<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>ç™¾çµå¿«ä¼  V2.0</title>
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" href="../favicon.ico"/>
  <link rel="stylesheet" href="../assets/layui/css/layui.css"/>
  <link rel="stylesheet" href="../assets/css/main.css"/>
</head>
<body>
    <div class="main-div layui-layout-admin">
        <div class="layui-header">
          <ul class="layui-nav layui-bg-blue main-div" lay-bar="disabled">
              <li class="layui-nav-item logo">ç™¾çµå¿«ä¼ <span class="layui-badge layui-bg-gray">v2.0</span></li>
              <li class="layui-nav-item pull-right"><a href=""><i class="layui-icon layui-icon-rate"></i> å¸®åŠ©</a></li>
              <!--<li class="layui-nav-item pull-right">
                <a href="javascript:;">è§£å†³æ–¹æ¡ˆ</a>
                <dl class="layui-nav-child">
                  <dd><a href="">ç§»åŠ¨æ¨¡å—</a></dd>
                  <dd><a href="">åå°æ¨¡ç‰ˆ</a></dd>
                  <dd><a href="">ç”µå•†å¹³å°</a></dd>
                </dl>
              </li>-->
              <li class="layui-nav-item pull-right"><a href=""><i class="layui-icon layui-icon-upload-drag"></i> ä¸Šä¼ </a></li>
          </ul> 
        </div>

        <div class="main-banner layui-hide-xs">
          <img src="../assets/img/banner-min.png" width="40%">
          <p class="title">ç™¾çµå¿«ä¼ (B0Pass)ï¼šæ‰‹æœºç”µè„‘è¶…å¤§æ–‡ä»¶ä¼ è¾“å·¥å…·</p>
          <p><button type="button" class="layui-btn layui-btn-primary layui-btn-warm layui-border-black"
             id="link-pc"  onmouseover="javascript:showTip(this,'ç”µè„‘å…±äº«ï¼šåœ¨æµè§ˆå™¨è¾“å…¥è¿™ä¸ªç½‘å€');">
            <i class="layui-icon layui-icon-windows"></i> å¤åˆ¶ç½‘å€
          </button> &nbsp;  &nbsp;  &nbsp;  &nbsp;  
          <button type="button" class="layui-btn layui-btn-primary layui-btn-blue layui-border-black" 
              id="link-phone"  onmouseover="javascript:showTip(this,'æ‰‹æœºå…±äº«ï¼šæµè§ˆå™¨æ‰«ç (å»ºè®®QQæµè§ˆå™¨)');">
            <i class="layui-icon layui-icon-cellphone-fine"></i> æ‰‹æœºæ‰«ç 
          </button></p>
        </div>
        <div class="main-banner layui-hide-md">
        </div>

        <div class="layui-bg-gray" style="padding: 15px;">
            <div class="layui-row layui-col-space15">
              <div class="layui-hide-xs layui-col-sm3 layui-col-md2">
                <div class="layui-card">
                  <div class="layui-card-header">ç›®å½•</div>
                  <div class="layui-card-body">
                    <div id="tree-left"></div>
                  </div>
                </div>
              </div>
              <div class="layui-col-xs12 layui-col-sm9 layui-col-md10">
                <div class="layui-card">
                  <div class="layui-card-header">å†…å®¹</div>
                  <div class="layui-card-body">
                    <table class="layui-hide" id="dataTable" lay-filter="dataTable"></table>
                    <script type="text/html" id="toolbarDT">
                      <div class="layui-btn-container">
                        <!--<button class="layui-btn layui-btn-sm layui-bg-gray" lay-event="getCheckData" title="è¿”å›ä¸Šä¸€çº§ç›®å½•">
                          <i class="layui-icon layui-icon-return"></i> è¿”å›
                        </button>
                        <button class="layui-btn layui-btn-sm layui-bg-gray" lay-event="getCheckData" title="åˆ›å»ºä¸€ä¸ªæ–°ç›®å½•">
                          <i class="layui-icon layui-icon-addition"></i> åˆ›å»ºç›®å½•
                        </button>
                        <button class="layui-btn layui-btn-sm layui-btn-warm" lay-event="getCheckData"  title="ç§’ä¼ è¶…å¤§æ–‡ä»¶">
                          <i class="layui-icon layui-icon-upload-drag"></i> <b>ä¸Šä¼ </b><span class="layui-badge layui-bg-gray">ç§’ä¼ </span>
                        </button>
                        <button class="layui-btn layui-btn-sm layui-bg-gray" lay-event="getCheckData"  title="åœ¨çº¿ä¸‹è½½">
                          <i class="layui-icon layui-icon-download-circle"></i> åœ¨çº¿ä¸‹è½½
                        </button>
                        <button id="pc_run" class="layui-btn layui-btn-sm layui-bg-blue" lay-event="getCheckData" title="åœ¨ä¸»ç”µè„‘ä¸Šè¿è¡Œæˆ–æ‰“å¼€é€‰ä¸­æ–‡ä»¶">
                          <i class="layui-icon layui-icon-chart-screen"></i> ç”µè„‘è¿è¡Œ
                        </button>
                        <button class="layui-btn layui-btn-sm layui-bg-gray" lay-event="getCheckData" title="åˆ é™¤">
                          <i class="layui-icon layui-icon-delete"></i> åˆ é™¤
                        </button>
                        <button class="layui-btn layui-btn-sm layui-bg-blue" lay-event="getCheckData">é€‰ä¸­æ•°æ®</button>
                        <button class="layui-btn layui-btn-sm layui-bg-blue" lay-event="getData">è·å–å½“å‰é¡µæ•°æ®</button>
                        <button class="layui-btn layui-btn-sm layui-bg-blue" lay-event="isAll">æ˜¯å¦å…¨é€‰</button>-->
                      </div>
                    </script>
                    <script type="text/html" id="barDT">
                      <a class="layui-btn layui-btn-xs layui-bg-gray" lay-event="edit"><i class="layui-icon layui-icon-list"></i>ç¼–è¾‘</a>
                      <a class="layui-btn layui-btn-xs layui-bg-gray" lay-event="edit"><i class="layui-icon layui-icon-search"></i>æŸ¥çœ‹</a>
                      <!--<a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">åˆ é™¤</a>-->
                    </script> 
                  </div>
                </div>
              </div>
            </div>
          </div> 

    </div>

    <script src="../assets/layui/layui.js"></script>

    <script>
        var showTip;
        layui.use(['tree', 'table','util'], function(){
          var tree = layui.tree
          ,table = layui.table
          ,layer = layui.layer
          ,util = layui.util
          
          //tree--------------------------------------//
          //treeæ•°æ®
          ,data1 = [{
            title: 'æ±Ÿè¥¿'
            ,id: 1
            ,spread: true
            ,children: [{
              title: 'å—æ˜Œ'
              ,id: 1000
              ,children: [{
                title: 'é’å±±æ¹–åŒº'
                ,id: 10001
              },{
                title: 'é«˜æ–°åŒº'
                ,id: 10002
              }]
            },{
              title: 'ä¹æ±Ÿ'
              ,id: 1001
            },{
              title: 'èµ£å·'
              ,id: 1002
            }]
          },{
            title: 'å¹¿è¥¿'
            ,id: 2
            ,children: [{
              title: 'å—å®'
              ,id: 2000
            },{
              title: 'æ¡‚æ—'
              ,id: 2001
            }]
          },{
            title: 'é™•è¥¿'
            ,id: 3
            ,children: [{
              title: 'è¥¿å®‰'
              ,id: 3000
            },{
              title: 'å»¶å®‰'
              ,id: 3001
            }]
          }];
         
         
          //å¸¸è§„ç”¨æ³•
          tree.render({
            elem: '#tree-left' //é»˜è®¤æ˜¯ç‚¹å‡»èŠ‚ç‚¹å¯è¿›è¡Œæ”¶ç¼©
            ,data: data1
            ,accordion: true 
            ,isJump: true //æ˜¯å¦å…è®¸ç‚¹å‡»èŠ‚ç‚¹æ—¶å¼¹å‡ºæ–°çª—å£è·³è½¬
            ,click: function(obj){
                var data = obj.data;  //è·å–å½“å‰ç‚¹å‡»çš„èŠ‚ç‚¹æ•°æ®
                layer.msg('çŠ¶æ€ï¼š'+ obj.state + '<br>èŠ‚ç‚¹æ•°æ®ï¼š' + JSON.stringify(data));
            }
          });

          //table----------------------------------------//

          // åˆ›å»ºæ¸²æŸ“å®ä¾‹
          table.render({
            elem: '#dataTable'
            ,url:'demo.json'
            //,toolbar: '#toolbarDT'
            ,defaultToolbar: [/*'filter', 'exports', 'print', {
              title: 'å¸®åŠ©'
              ,layEvent: 'LAYTABLE_TIPS'
              ,icon: 'layui-icon-tips'
            }*/]
            ,height: 'full' // æœ€å¤§é«˜åº¦å‡å»å…¶ä»–å®¹å™¨å·²å æœ‰çš„é«˜åº¦å·®
            ,cellMinWidth: 80
            ,totalRow: true // å¼€å¯åˆè®¡è¡Œ
            ,page: true
            ,cols: [[
              {type: 'checkbox', /*fixed: 'left'*/}
              ,{field:'id', /*fixed: 'left',*/ width:80, title: 'ID', sort: true, totalRowText: 'åˆè®¡ï¼š'}
              ,{field:'username', width:80, title: 'ç”¨æˆ·'}
              ,{field:'sex', width:80, title: 'æ€§åˆ«', sort: true}
              ,{field:'sign', title: 'ç­¾å', edit: 'textarea', minWidth: 260, style: '-moz-box-align: start;'}
              ,{field:'experience', width: 100, title: 'ç§¯åˆ†', sort: true, totalRow: '{{= d.TOTAL_NUMS }} ğŸ˜Š'} 
              ,{field:'joinTime', title:'åŠ å…¥æ—¶é—´', width: 120}
              ,{/*fixed: 'right',*/ title:'æ“ä½œ', width: 155, minWidth: 155, toolbar: '#barDT'}
            ]]
            ,done: function(){
              var id = this.id;
            }
            ,error: function(res, msg){
              console.log(res, msg)
            }
          });


          // å·¥å…·æ äº‹ä»¶
          table.on('toolbar(dataTable)', function(obj){
            var id = obj.config.id;
            var checkStatus = table.checkStatus(id);
            var othis = lay(this);
            switch(obj.event){
              case 'getCheckData':
                var data = checkStatus.data;
                layer.alert(layui.util.escape(JSON.stringify(data)));
              break;
              case 'getData':
                var getData = table.getData(id);
                console.log(getData);
                layer.alert(layui.util.escape(JSON.stringify(getData)));
              break;
              case 'isAll':
                layer.msg(checkStatus.isAll ? 'å…¨é€‰': 'æœªå…¨é€‰')
              break;
              case 'multi-row':
                table.reload('dataTable', {
                  // è®¾ç½®è¡Œæ ·å¼ï¼Œæ­¤å¤„ä»¥è®¾ç½®å¤šè¡Œé«˜åº¦ä¸ºä¾‹ã€‚è‹¥ä¸ºå•è¡Œï¼Œåˆ™æ²¡å¿…è¦è®¾ç½®æ”¹å‚æ•° - æ³¨ï¼šv2.7.0 æ–°å¢
                  lineStyle: 'height: 95px;' 
                });
                layer.msg('å³é€šè¿‡è®¾ç½® lineStyle å‚æ•°å¯å¼€å¯å¤šè¡Œ');
              break;
              case 'default-row':
                table.reload('dataTable', {
                  lineStyle: null // æ¢å¤å•è¡Œ
                });
                layer.msg('å·²è®¾ä¸ºå•è¡Œ');
              break;
              case 'LAYTABLE_TIPS':
                layer.alert('Table for layui-v'+ layui.v);
              break;
            };
          });
        
          //è§¦å‘å•å…ƒæ ¼å·¥å…·äº‹ä»¶
          table.on('tool(dataTable)', function(obj){ // åŒå‡» toolDouble
            var data = obj.data;
            //console.log(obj)
            if(obj.event === 'del'){
              layer.confirm('çœŸçš„åˆ é™¤è¡Œä¹ˆ', function(index){
                obj.del();
                layer.close(index);
              });
            } else if(obj.event === 'edit'){
              layer.open({
                title: 'ç¼–è¾‘',
                type: 1,
                area: ['80%','80%'],
                content: '<div style="padding: 16px;">è‡ªå®šä¹‰è¡¨å•å…ƒç´ </div>'
              });
            }
          });
        
          //è§¦å‘è¡¨æ ¼å¤é€‰æ¡†é€‰æ‹©
          table.on('checkbox(dataTable)', function(obj){
            console.log(obj)
          });
        
          //è§¦å‘è¡¨æ ¼å•é€‰æ¡†é€‰æ‹©
          table.on('radio(dataTable)', function(obj){
            console.log(obj)
          });
          
          // è¡Œå•å‡»äº‹ä»¶
          table.on('row(dataTable)', function(obj){
            //console.log(obj);
            //layer.closeAll('tips');
          });
          // è¡ŒåŒå‡»äº‹ä»¶
          table.on('rowDouble(dataTable)', function(obj){
            console.log(obj);
          });
        
          // å•å…ƒæ ¼ç¼–è¾‘äº‹ä»¶
          table.on('edit(dataTable)', function(obj){
            var field = obj.field //å¾—åˆ°å­—æ®µ
            ,value = obj.value //å¾—åˆ°ä¿®æ”¹åçš„å€¼
            ,data = obj.data; //å¾—åˆ°æ‰€åœ¨è¡Œæ‰€æœ‰é”®å€¼
        
            var update = {};
            update[field] = value;
            obj.update(update);
          });


          //tools----------------------------------------//
          showTip=function(obj,msg){
              layer.tips("<span>"+msg+"</span>","#"+obj.id,{tips:1, time:2000});
          }

          
          
        });
        </script>

</body>
</html>